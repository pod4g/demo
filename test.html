<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>测试文档碎片</title>
</head>
<body>
<script type="text/javascript">
    'use strict'
    const obj = {}
    Object.defineProperty(obj, 'hello', {
        get(){
            console.log('get被调用了...')
        },
        set(val){
            console.log('set被调用了')
            console.log(val)
        }
    })

    const frag = document.createDocumentFragment()
    const div = document.createElement('div')
    div.className = 'd1'
    div.textContent = 'I am a div element'

    const p = document.createElement('p')
    p.id = 'p'
    p.innerHTML = '<span>span<i>element i</i></span>'
    
    frag.appendChild(div)
    frag.appendChild(p)

    document.body.insertBefore(frag, document.body.childNodes[0])
    
    // 调用这个方法后，会从DOM树中删除掉这部分的DOM结构
    function nodeToFragement(node){
        var frag = document.createDocumentFragment()
        var child
        while(child = node.firstChild){
            frag.appendChild(child)
        }
        return frag
    }
    const fragment = nodeToFragement(document.body)
    console.log(fragment)
</script>
</body>
</html>